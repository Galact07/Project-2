<main class="container mt-4">
  <h1 class="text-center mb-4">Insurance Policies</h1>

  <div *ngIf="policy.length > 0; else noPolicies">
    <table class="table table-hover table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Id</th>
          <th>Policy Number</th>
          <th>Policy Holder Name</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Type</th>
          <th>Premium Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of policy">
          <td>{{ p.id }}</td>
          <td>{{ p.policyNumber }}</td>
          <td>{{ p.policyHolderName }}</td>
          <td>{{ p.startDate | date }}</td>
          <td>{{ p.endDate | date }}</td>
          <td>{{ p.type }}</td>
          <td>{{ p.premiumAmount | currency }}</td>
          <td>
            <button (click)="openUpdateModal(p)" class="btn btn-primary btn-sm">Update</button>
            <button (click)="deletePolicy(p.id)" class="btn btn-danger btn-sm">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #noPolicies>
    <div class="alert alert-warning text-center" role="alert">
      No policies found.
    </div>
  </ng-template>

 <h2 class="text-center mt-5">Add New Policy</h2>
  <form (ngSubmit)="addPolicy()" class="mt-4">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="policyNumber">Policy Number:</label>
        <input type="text" id="policyNumber" [(ngModel)]="newPolicy.policyNumber" name="policyNumber" class="form-control" required>
      </div>
      <div class="form-group col-md-6">
        <label for="policyHolderName">Policy Holder Name:</label>
        <input type="text" id="policyHolderName" [(ngModel)]="newPolicy.policyHolderName" name="policyHolderName" class="form-control" required>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate" [(ngModel)]="newPolicy.startDate" name="startDate" class="form-control" required>
      </div>
      <div class="form-group col-md-6">
        <label for="endDate">End Date:</label>
        <input type="date" id="endDate" [(ngModel)]="newPolicy.endDate" name="endDate" class="form-control" required>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="type">Type:</label>
        <input type="text" id="type" [(ngModel)]="newPolicy.type" name="type" class="form-control" required>
      </div>
      <div class="form-group col-md-6">
        <label for="premiumAmount">Premium Amount:</label>
        <input type="number" id="premiumAmount" [(ngModel)]="newPolicy.premiumAmount" name="premiumAmount" class="form-control" required>
      </div>
    </div>
    <button type="submit" class="btn btn-primary btn-block">Add Policy</button>
  </form>
  <div class="logout-container">
    <button (click)="logout()" class="btn btn-danger logout-button">Logout</button>
  </div>
</main>
